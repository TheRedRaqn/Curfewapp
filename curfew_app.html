<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="robots" content="noindex">
  <title>Curfew App</title>
  <style>
    /* ... (your styles) ... */
  </style>
</head>
<body>
  <div class="container" id="container">
    <!-- The content will be updated by JavaScript -->
  </div>

  <script>
    var currentHour = new Date().getHours();
    var currentMinute = new Date().getMinutes();
    var currentSecond = new Date().getSeconds();
    var nextStateHour;
    var stateOverride = null;

    var urlParams = new URLSearchParams(window.location.search);
    if(urlParams.has('state')) {
        stateOverride = parseInt(urlParams.get('state'));
        if (isNaN(stateOverride) || stateOverride < 0 || stateOverride > 3) {
            stateOverride = null;
        }
    }

    function updateState() {
      const container = document.getElementById("container");
      let state, imageSrc, nextState, beerOclock;

      if (stateOverride !== null) {
        currentHour = (stateOverride === 0 ? 7 : stateOverride === 1 ? 17 : stateOverride === 2 ? 0 : 1);
      }

      // your logic here ...

      container.innerHTML = `
        <h2>Is it beer o'clock?</h2>
        <h1>${beerOclock}</h1>
        <img src="${imageSrc}" alt="${state}">
        <p>${timeLeft} hours ${minutesLeft} minutes ${secondsLeft} seconds</p>
        <button onclick="switchManually()">Switch manually to ${nextState}</button>
      `;

      // reset the stateOverride after changing the state
      stateOverride = null;
    }

    function switchManually() {
      currentHour = nextStateHour;
      updateState();
    }

    updateState();

    setInterval(() => {
      // your code here ...
      if (stateOverride === null) {
        updateState();
      }
    }, 1000);
  </script>
</body>
</html>
